#!/usr/bin/env bash
#
# Delete Temporary Files

notify-send "rmtemp" "Deleting temp files ..."

# ──────────────────────────────────────────────────────────
# In ~:
#
#   + Temp files ending in "~" or "#"
#   + Broken symbolic links
#   + Simulink cache files
#   + Automatically-generated model S-Function files (excluding ~/build)

path=$HOME

fd --no-ignore --hidden .*[~#]$ "$path" --exec rm -rv {}
find "$HOME" -xtype l -print -delete 2>/dev/null
fd --no-ignore .*\.slxc$ "$path" --exec rm -rv {}
fd --no-ignore --exclude build .*sfun\.mexa64 "$path" --exec rm -rv {}


# ──────────────────────────────────────────────────────────
# In ~/src:
#
#   + Folders named "slprj"
#   + Folders named "__pycache__"
#   + Folders named "sldv_output"
#   + Folders named "rtwgen_tlc"

path=$HOME/src

fd --no-ignore --type directory slprj "$path" --exec rm -rv {}
fd --no-ignore --type directory __pycache__ "$path" --exec rm -rv {}
fd --no-ignore --type directory sldv_output "$path" --exec rm -rv {}
fd --no-ignore --type directory slcov_output "$path" --exec rm -rv {}
fd --no-ignore --type directory rtwgen_tlc "$path" --exec rm -rv {}
