#!/bin/bash


_list_files () {

	fd ".*" "$HOME" /etc /usr -E "Trash" -E "*~" --type f --hidden \
	   --absolute-path --follow \
		| fzf --exact --height=25 --reverse --history="$HOME"/.fzf_file_history

}


_open_selection () {

	local title=""
	local filepath=""
	local filename=""

	title="Fuzzy File Finder"
	if filepath="$(_list_files)"
	then
		filename="$(basename "$filepath")"
		nohup mimeopen --no-ask "$filepath" >/dev/null 2>&1 &
		notify-send "$title" "Opening $filename"
	fi

}


_main () {

	_open_selection

}

_main
