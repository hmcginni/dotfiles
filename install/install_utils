#!/bin/bash

srcDir=${PWD%/*}

binDir[target]=$HOME/bin
binDir[source]=$srcDir/bin
libDir[target]=$HOME/lib
libDir[source]=$srcDir/lib
matDir[target]=$HOME/Documents/MATLAB
matDir[source]=$srcDir/matlab
dotDir[target]=$HOME

# Make directories
mkdir -p $binDir $libDir $matDir

# Create symlinks to repository files
for filePath in $srcDir/bin/*; do
    fileName=${filePath##/*/}
    [[ $fileName != "README.org" ]] && ln -bsv -T $filePath $binDir/$fileName
done

for filePath in $srcDir/lib/*; do
    fileName=${filePath##/*/}
    [[ $fileName != "README.org" ]] && ln -bsv -T $filePath $libDir/$fileName
done

for filePath in $srcDir/dots/.[^.]*; do
    fileName=${filePath##/*/}
    [[ $fileName != "README.org" ]] && ln -bsv -T $filePath $dotDir/$fileName
done

rm -r $dotDir/.emacs.d
mkdir $dotDir/.emacs.d
ln -bsv -T $srcDir/dots/.emacs.d/init.el $dotDir/.emacs.d/init.el

# for filePath in $srcDir/matlab/*; do
#     fileName=${filePath##/*/}
#     [[ $fileName != "README.org" ]] && ln -bsv -T $filePath $matDir/$fileName
# done
